<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
    <meta http-equiv="UX-A-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/image/favicon.ico">
    <link rel="stylesheet" href="/css/style.css">
    
    <title>Contact Table</title>
 </head>
 <body>
    <h3 class="contactH3">Contact</h3>
    <table>
        <thead>
            <th>No.</th>
            <th>Name</th>
            <th>Gender</th>
            <th>Phone</th>
            <th>Location</th>
        </thead>
        <tbody>
            <tr>

            </tr>
        </tbody>
    </table> <br>
    <a href="/form">Add Contact</a>
    <script>
        const TR = document.querySelector("tr")
        fetch("http://127.0.0.1:3000/getForm")
        .then(res=>res.json())
        .then(data=>{
            data.reverse()
            let num = data.length
            data.forEach((element,i) => {
                TR.insertAdjacentHTML("afterend",
                `
                <td>${num}.</td>
                <td>${element.name}</td>
                <td>${element.gender}</td>                
                <td>${element.phone}</td>                
                <td>${element.address}</td>                
                `)
                num--
            });
        })
    </script>
 </body>
</html>